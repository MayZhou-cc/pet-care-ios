{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\s4397674\\\\Documents\\\\PP\\\\test\\\\components\\\\NutritionalScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport React, { Component, useState, useEffect, useCallback } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { createAppContainer } from \"react-navigation\";\nimport { createMaterialTopTabNavigator } from \"react-navigation-tabs\";\nimport { FontAwesome, MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { fb, Fire } from \"../src/firebase/APIKeys\";\nvar baseHealth = 0;\nvar baseStatus = 0;\nvar baseCurrency = 0;\nreadData();\n\nfunction readData() {\n  fb.database().ref(\"response/avatarHealth\").once(\"value\", function (dataSnapShot) {\n    baseHealth = dataSnapShot.val();\n  });\n  fb.database().ref(\"response/avatarStatus\").once(\"value\", function (dataSnapShot) {\n    baseStatus = dataSnapShot.val();\n  });\n  fb.database().ref(\"response/currency\").once(\"value\", function (dataSnapShot) {\n    baseCurrency = dataSnapShot.val();\n  });\n}\n\nfunction ReadTab() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      read = _useState2[0],\n      allReads = _useState2[1];\n\n  useEffect(function () {\n    var readRef = fb.database().ref(\"/response/nutritionalTips\");\n    var OnLoadingListener = readRef.on(\"value\", function (snapshot) {\n      allReads([]);\n      snapshot.forEach(function (childSnapshot) {\n        allReads(function (read) {\n          return [].concat(_toConsumableArray(read), [childSnapshot.val()]);\n        });\n      });\n    });\n    return function () {\n      readRef.off(\"value\", OnLoadingListener);\n    };\n  }, []);\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, React.createElement(SafeAreaView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, read.map(function (item, index) {\n    if (item[\"complete\"]) {\n      return React.createElement(TouchableOpacity, {\n        key: item[\"tipID\"],\n        style: styles.textContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }\n      }, \"Type: \", item[\"tipType\"]), React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }\n      }, \"Title: \", item[\"tipName\"]), React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 19\n        }\n      }, \"Description: \", item[\"tip\"]), React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }, \"Rewards: \", item[\"tipReward\"][\"shopCurrency\"]));\n    }\n  }))));\n}\n\nReadTab.navigationOptions = {\n  tabBarIcon: function tabBarIcon(_ref) {\n    var tintColor = _ref.tintColor,\n        focused = _ref.focused;\n    return React.createElement(Icon, {\n      name: focused ? \"ios-mail-open\" : \"md-mail-open\",\n      color: tintColor,\n      size: 25,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }\n    });\n  }\n};\n\nvar submitTip = function submitTip(index, id, name, tip, type, reward, complete) {\n  return new Promise(function (resolve, reject) {\n    var key;\n\n    if (id != null) {\n      key = id;\n    } else {\n      key = fb.database().ref().push().key;\n    }\n\n    var dataToSave = {\n      tipID: key,\n      tipName: name,\n      complete: complete,\n      tipReward: reward,\n      tip: tip,\n      tipType: type\n    };\n    console.log(dataToSave);\n    fb.database().ref(\"/response/nutritionalTips/\" + index).update(dataToSave).then(function (snapshot) {\n      resolve(snapshot);\n    }).catch(function (err) {\n      reject(err);\n    });\n  });\n};\n\nfunction completeTips(rewardHealth) {\n  baseHealth += rewardHealth[\"avatarHealth\"];\n  baseStatus += rewardHealth[\"avatarStatus\"];\n  baseCurrency += rewardHealth[\"shopCurrency\"];\n  this.setState(function (state, props) {\n    return {\n      baseHealth: state.baseHealth + rewardHealth[\"avatarHealth\"],\n      baseCurr: state.baseCurr + rewardHealth[\"shopCurrency\"],\n      baseStatus: state.baseStatus + rewardHealth[\"avatarStatus\"]\n    };\n  });\n  fb.database().ref(\"response/\").update({\n    avatarHealth: baseHealth,\n    avatarStatus: baseStatus,\n    currency: baseCurrency\n  }).then(function () {\n    console.log(\"Completed a quest\");\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nfunction reading(item, index) {\n  var _this = this;\n\n  Alert.alert(item[\"tipName\"], item[\"tip\"], [{\n    text: \"Cancel\",\n    onPress: function onPress() {\n      return console.log(\"cancel\");\n    },\n    style: \"cancel\"\n  }, {\n    text: \"OK\",\n    onPress: function onPress() {\n      console.log(\"hey!!!\");\n      console.log(_this.state.baseCurr);\n      completeTips(item[\"tipReward\"]);\n      console.log(\"sup!!!\");\n      console.log(_this.state.baseCurr);\n      submitTip(index, item[\"tipID\"], item[\"tipName\"], item[\"tip\"], item[\"tipType\"], item[\"tipReward\"], !item[\"complete\"]);\n    }\n  }], {\n    cancelable: false\n  });\n}\n\nfunction UnreadTab() {\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      unread = _useState4[0],\n      allUnreads = _useState4[1];\n\n  useEffect(function () {\n    var unreadRef = fb.database().ref(\"/response/nutritionalTips\");\n    var OnLoadingListener = unreadRef.on(\"value\", function (snapshot) {\n      allUnreads([]);\n      snapshot.forEach(function (childSnapshot) {\n        allUnreads(function (unread) {\n          return [].concat(_toConsumableArray(unread), [childSnapshot.val()]);\n        });\n      });\n    });\n    return function () {\n      unreadRef.off(\"value\", OnLoadingListener);\n    };\n  }, []);\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 5\n    }\n  }, React.createElement(SafeAreaView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }, unread.map(function (item, index) {\n    if (!item[\"complete\"]) {\n      return React.createElement(TouchableOpacity, {\n        key: item[\"tipID\"],\n        style: styles.textContainer,\n        onPress: function onPress() {\n          return reading(item, index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 19\n        }\n      }, \"Type: \", item[\"tipType\"]), React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 19\n        }\n      }, \"Title: \", item[\"tipName\"]), React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 19\n        }\n      }, \"Description: \", item[\"tip\"]), React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 19\n        }\n      }, \"Rewards: \", item[\"tipReward\"][\"shopCurrency\"]));\n    }\n  }))));\n}\n\nUnreadTab.navigationOptions = {\n  tabBarIcon: function tabBarIcon(_ref2) {\n    var tintColor = _ref2.tintColor,\n        focused = _ref2.focused;\n    return React.createElement(Icon, {\n      name: focused ? \"ios-mail-unread\" : \"md-mail-unread\",\n      color: tintColor,\n      size: 25,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 5\n      }\n    });\n  }\n};\nvar Tab = createMaterialTopTabNavigator({\n  Unread: UnreadTab,\n  Read: ReadTab\n}, {\n  tabBarOptions: {\n    activeTintColor: \"black\",\n    showIcon: true,\n    showLabel: true,\n    style: {\n      backgroundColor: \"#FF9933\"\n    }\n  }\n});\nvar AppIndex = createAppContainer(Tab);\n\nvar NutritionalScreen = function (_Component) {\n  _inherits(NutritionalScreen, _Component);\n\n  var _super = _createSuper(NutritionalScreen);\n\n  function NutritionalScreen(props) {\n    var _this2;\n\n    _classCallCheck(this, NutritionalScreen);\n\n    _this2 = _super.call(this, props);\n\n    _this2.handleCurrency = function () {\n      return React.createElement(Text, {\n        style: {\n          fontSize: 25,\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 7\n        }\n      }, baseCurrency);\n    };\n\n    _this2.state = {\n      baseHealth: 0,\n      baseStatus: 0,\n      baseCurr: 0\n    };\n\n    if (!fb.apps.length) {\n      fb.initializeApp(ApiKeys.FirebaseConfig);\n    }\n\n    completeTips = completeTips.bind(_assertThisInitialized(_this2));\n    reading = reading.bind(_assertThisInitialized(_this2));\n    return _this2;\n  }\n\n  _createClass(NutritionalScreen, [{\n    key: \"readData\",\n    value: function readData() {\n      var _this3 = this;\n\n      fb.database().ref(\"response/avatarHealth\").once(\"value\", function (dataSnapShot) {\n        var temp = dataSnapShot.val();\n\n        _this3.setState({\n          baseHealth: temp\n        });\n      });\n      fb.database().ref(\"response/avatarStatus\").once(\"value\", function (dataSnapShot) {\n        var temp = dataSnapShot.val();\n\n        _this3.setState({\n          baseStatus: temp\n        });\n      });\n      fb.database().ref(\"response/currency\").once(\"value\", function (dataSnapShot) {\n        var temp = dataSnapShot.val();\n\n        _this3.setState({\n          baseCurr: temp\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 7\n        }\n      }, React.createElement(ImageBackground, {\n        source: require(\"../assets/BackgroundOrange.png\"),\n        style: styles.backgroundImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 9\n        }\n      }, React.createElement(StatusBar, {\n        backgroundColor: \"white\",\n        barStyle: \"light-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }\n      }), React.createElement(View, {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }\n      }, React.createElement(FontAwesome, {\n        style: {\n          marginLeft: 15\n        },\n        name: \"home\",\n        size: 25,\n        color: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }\n      }), React.createElement(FontAwesome, {\n        style: {\n          marginLeft: 25\n        },\n        name: \"question-circle\",\n        size: 25,\n        color: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: {\n          marginLeft: 24,\n          alignItems: \"center\",\n          fontSize: 27,\n          textAlign: \"center\",\n          color: \"white\",\n          backgroundColor: \"#a9a9a8\",\n          borderColor: \"FF9933\",\n          borderRadius: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }\n      }, \" \", \"Nutritional Tips\", \" \"), React.createElement(MaterialCommunityIcons, {\n        style: {\n          marginLeft: 30\n        },\n        name: \"circle-expand\",\n        size: 25,\n        color: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }\n      }), React.createElement(this.handleCurrency, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }\n      })), React.createElement(AppIndex, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return NutritionalScreen;\n}(Component);\n\nexport { NutritionalScreen as default };\n{}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#5F7EB2\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  textContainer: {\n    padding: 10,\n    marginTop: 3,\n    backgroundColor: \"#d9f9b1\",\n    alignItems: \"center\"\n  },\n  backgroundImage: {\n    flex: 1,\n    resizeMode: \"cover\",\n    justifyContent: \"center\"\n  },\n  text: {\n    color: \"#4f603c\",\n    fontSize: 20\n  },\n  taskCard: {\n    flex: 5,\n    backgroundColor: \"#FFE5CC\",\n    borderColor: \"black\",\n    borderWidth: 1,\n    margin: 10,\n    justifyContent: \"center\"\n  },\n  taskDiv: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  taskTitle: {\n    fontSize: 20\n  },\n  rewardPoint: {\n    fontSize: 20,\n    color: \"darkblue\"\n  },\n  taskbody: {\n    flex: 1,\n    fontSize: 14\n  },\n  taskDone: {\n    borderColor: \"#737373\",\n    backgroundColor: \"darkgrey\"\n  },\n  header: {\n    flexDirection: \"row\"\n  },\n  tabs: {\n    flex: 1,\n    backgroundColor: \"#D3E3F6\",\n    alignItems: \"flex-start\",\n    justifyContent: \"flex-start\",\n    textAlign: \"left\"\n  }\n});","map":{"version":3,"sources":["C:/Users/s4397674/Documents/PP/test/components/NutritionalScreen.js"],"names":["Icon","React","Component","useState","useEffect","useCallback","createAppContainer","createMaterialTopTabNavigator","FontAwesome","MaterialCommunityIcons","fb","Fire","baseHealth","baseStatus","baseCurrency","readData","database","ref","once","dataSnapShot","val","ReadTab","read","allReads","readRef","OnLoadingListener","on","snapshot","forEach","childSnapshot","off","map","item","index","styles","textContainer","text","navigationOptions","tabBarIcon","tintColor","focused","submitTip","id","name","tip","type","reward","complete","Promise","resolve","reject","key","push","dataToSave","tipID","tipName","tipReward","tipType","console","log","update","then","catch","err","completeTips","rewardHealth","setState","state","props","baseCurr","avatarHealth","avatarStatus","currency","error","reading","Alert","alert","onPress","style","cancelable","UnreadTab","unread","allUnreads","unreadRef","Tab","Unread","Read","tabBarOptions","activeTintColor","showIcon","showLabel","backgroundColor","AppIndex","NutritionalScreen","handleCurrency","fontSize","color","apps","length","initializeApp","ApiKeys","FirebaseConfig","bind","temp","flex","require","backgroundImage","header","marginLeft","alignItems","textAlign","borderColor","borderRadius","StyleSheet","create","container","justifyContent","padding","marginTop","resizeMode","taskCard","borderWidth","margin","taskDiv","flexDirection","taskTitle","rewardPoint","taskbody","taskDone","tabs"],"mappings":"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","sourcesContent":["//NutritionScreen.js\r\n\r\nimport Icon from \"react-native-vector-icons/Ionicons\";\r\nimport React, { Component, useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  StatusBar,\r\n  TouchableOpacity,\r\n  ImageBackground,\r\n  SafeAreaView,\r\n  ScrollView,\r\n  Alert,\r\n} from \"react-native\";\r\nimport { createAppContainer } from \"react-navigation\";\r\nimport { createMaterialTopTabNavigator } from \"react-navigation-tabs\";\r\nimport { FontAwesome, MaterialCommunityIcons } from \"@expo/vector-icons\";\r\nimport { fb, Fire } from \"../src/firebase/APIKeys\";\r\n\r\nvar baseHealth = 0;\r\nvar baseStatus = 0;\r\nvar baseCurrency = 0;\r\nreadData();\r\n\r\nfunction readData() {\r\n  fb.database()\r\n    .ref(\"response/avatarHealth\")\r\n    .once(\"value\", (dataSnapShot) => {\r\n      baseHealth = dataSnapShot.val();\r\n    });\r\n  fb.database()\r\n    .ref(\"response/avatarStatus\")\r\n    .once(\"value\", (dataSnapShot) => {\r\n      baseStatus = dataSnapShot.val();\r\n    });\r\n  fb.database()\r\n    .ref(\"response/currency\")\r\n    .once(\"value\", (dataSnapShot) => {\r\n      baseCurrency = dataSnapShot.val();\r\n    });\r\n}\r\n\r\nfunction ReadTab() {\r\n  const [read, allReads] = useState([]);\r\n  useEffect(() => {\r\n    const readRef = fb.database().ref(\"/response/nutritionalTips\");\r\n    const OnLoadingListener = readRef.on(\"value\", (snapshot) => {\r\n      allReads([]);\r\n      snapshot.forEach(function (childSnapshot) {\r\n        allReads((read) => [...read, childSnapshot.val()]);\r\n      });\r\n    });\r\n    // const childRemovedListener = readRef.on(\"child_removed\", (snapshot) => {\r\n    //   // Set Your Functioanlity Whatever you want.\r\n    //   alert(\"Child Removed\");\r\n    // });\r\n\r\n    // const childChangedListener = readRef.on(\"child_changed\", (snapshot) => {\r\n    //   // Set Your Functioanlity Whatever you want.\r\n    //   alert(\"Child Updated/Changed\");\r\n    // });\r\n\r\n    return () => {\r\n      readRef.off(\"value\", OnLoadingListener);\r\n      // readRef.off(\"child_removed\", childRemovedListener);\r\n      // readRef.off(\"child_changed\", childChangedListener);\r\n    };\r\n  }, []);\r\n  return (\r\n    <View>\r\n      <SafeAreaView>\r\n        <ScrollView>\r\n          {read.map(function (item, index) {\r\n            if (item[\"complete\"]) {\r\n              return (\r\n                <TouchableOpacity\r\n                  key={item[\"tipID\"]}\r\n                  style={styles.textContainer}\r\n                  // onPress={() => reading(item, index)}\r\n                >\r\n                  <Text style={styles.text}>Type: {item[\"tipType\"]}</Text>\r\n                  <Text style={styles.text}>Title: {item[\"tipName\"]}</Text>\r\n                  <Text style={styles.text}>Description: {item[\"tip\"]}</Text>\r\n                  <Text style={styles.text}>\r\n                    Rewards: {item[\"tipReward\"][\"shopCurrency\"]}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              );\r\n            }\r\n          })}\r\n        </ScrollView>\r\n      </SafeAreaView>\r\n    </View>\r\n  );\r\n}\r\nReadTab.navigationOptions = {\r\n  tabBarIcon: ({ tintColor, focused }) => (\r\n    <Icon\r\n      name={focused ? \"ios-mail-open\" : \"md-mail-open\"}\r\n      color={tintColor}\r\n      size={25}\r\n    />\r\n  ),\r\n};\r\n\r\n// Update tip after the tip has been read\r\nconst submitTip = (index, id, name, tip, type, reward, complete) => {\r\n  return new Promise(function (resolve, reject) {\r\n    let key;\r\n    if (id != null) {\r\n      key = id;\r\n    } else {\r\n      key = fb.database().ref().push().key;\r\n    }\r\n    let dataToSave = {\r\n      tipID: key,\r\n      tipName: name,\r\n      complete: complete,\r\n      tipReward: reward,\r\n      tip: tip,\r\n      tipType: type,\r\n    };\r\n    console.log(dataToSave);\r\n    fb.database()\r\n      .ref(\"/response/nutritionalTips/\" + index)\r\n      .update(dataToSave)\r\n      .then((snapshot) => {\r\n        resolve(snapshot);\r\n      })\r\n      .catch((err) => {\r\n        reject(err);\r\n      });\r\n  });\r\n};\r\n\r\nfunction completeTips(rewardHealth) {\r\n  baseHealth += rewardHealth[\"avatarHealth\"];\r\n  baseStatus += rewardHealth[\"avatarStatus\"];\r\n  baseCurrency += rewardHealth[\"shopCurrency\"];\r\n  this.setState((state, props) => ({\r\n    baseHealth: state.baseHealth + rewardHealth[\"avatarHealth\"],\r\n    baseCurr: state.baseCurr + rewardHealth[\"shopCurrency\"],\r\n    baseStatus: state.baseStatus + rewardHealth[\"avatarStatus\"],\r\n  }));\r\n  fb.database()\r\n    .ref(\"response/\")\r\n    .update({\r\n      avatarHealth: baseHealth,\r\n      avatarStatus: baseStatus,\r\n      currency: baseCurrency,\r\n    })\r\n    .then(() => {\r\n      console.log(\"Completed a quest\");\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\n// Reading Alert to verify if the tip is read.\r\nfunction reading(item, index) {\r\n  Alert.alert(\r\n    item[\"tipName\"],\r\n    item[\"tip\"],\r\n    [\r\n      {\r\n        text: \"Cancel\",\r\n        onPress: () => console.log(\"cancel\"),\r\n        style: \"cancel\",\r\n      },\r\n      {\r\n        text: \"OK\",\r\n        onPress: () => {\r\n          console.log(\"hey!!!\");\r\n          console.log(this.state.baseCurr);\r\n          completeTips(item[\"tipReward\"]);\r\n          \r\n          console.log(\"sup!!!\");\r\n          console.log(this.state.baseCurr);\r\n          submitTip(\r\n            index,\r\n            item[\"tipID\"],\r\n            item[\"tipName\"],\r\n            item[\"tip\"],\r\n            item[\"tipType\"],\r\n            item[\"tipReward\"],\r\n            !item[\"complete\"]\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    { cancelable: false }\r\n  );\r\n}\r\nfunction UnreadTab() {\r\n  const [unread, allUnreads] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const unreadRef = fb.database().ref(\"/response/nutritionalTips\");\r\n    const OnLoadingListener = unreadRef.on(\"value\", (snapshot) => {\r\n      allUnreads([]);\r\n      snapshot.forEach(function (childSnapshot) {\r\n        // console.log(childSnapshot.val());\r\n        allUnreads((unread) => [...unread, childSnapshot.val()]);\r\n      });\r\n    });\r\n\r\n    return () => {\r\n      unreadRef.off(\"value\", OnLoadingListener);\r\n    };\r\n  }, []);\r\n  return (\r\n    <View>\r\n      <SafeAreaView>\r\n        <ScrollView>\r\n          {unread.map(function (item, index) {\r\n            if (!item[\"complete\"]) {\r\n              return (\r\n                <TouchableOpacity\r\n                  key={item[\"tipID\"]}\r\n                  style={styles.textContainer}\r\n                  onPress={() => reading(item, index)}\r\n                >\r\n                  <Text style={styles.text}>Type: {item[\"tipType\"]}</Text>\r\n                  <Text style={styles.text}>Title: {item[\"tipName\"]}</Text>\r\n                  <Text style={styles.text}>Description: {item[\"tip\"]}</Text>\r\n                  <Text style={styles.text}>\r\n                    Rewards: {item[\"tipReward\"][\"shopCurrency\"]}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              );\r\n            }\r\n          })}\r\n        </ScrollView>\r\n      </SafeAreaView>\r\n    </View>\r\n  );\r\n}\r\nUnreadTab.navigationOptions = {\r\n  tabBarIcon: ({ tintColor, focused }) => (\r\n    <Icon\r\n      name={focused ? \"ios-mail-unread\" : \"md-mail-unread\"}\r\n      color={tintColor}\r\n      size={25}\r\n    />\r\n  ),\r\n};\r\n\r\nconst Tab = createMaterialTopTabNavigator(\r\n  {\r\n    Unread: UnreadTab,\r\n    Read: ReadTab,\r\n  },\r\n  {\r\n    tabBarOptions: {\r\n      activeTintColor: \"black\",\r\n      showIcon: true,\r\n      showLabel: true,\r\n      style: {\r\n        backgroundColor: \"#FF9933\",\r\n      },\r\n    },\r\n  }\r\n);\r\nconst AppIndex = createAppContainer(Tab);\r\n\r\nexport default class NutritionalScreen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      baseHealth: 0,\r\n      baseStatus: 0,\r\n      baseCurr: 0,\r\n    };\r\n    if (!fb.apps.length) {\r\n      fb.initializeApp(ApiKeys.FirebaseConfig);\r\n    }\r\n    completeTips = completeTips.bind(this);\r\n    reading = reading.bind(this);\r\n  }\r\n\r\n  readData() {\r\n    fb.database()\r\n      .ref(\"response/avatarHealth\")\r\n      .once(\"value\", (dataSnapShot) => {\r\n        var temp = dataSnapShot.val();\r\n        this.setState({ baseHealth: temp });\r\n      });\r\n    fb.database()\r\n      .ref(\"response/avatarStatus\")\r\n      .once(\"value\", (dataSnapShot) => {\r\n        var temp = dataSnapShot.val();\r\n        this.setState({ baseStatus: temp });\r\n      });\r\n    fb.database()\r\n      .ref(\"response/currency\")\r\n      .once(\"value\", (dataSnapShot) => {\r\n        var temp = dataSnapShot.val();\r\n        this.setState({ baseCurr: temp });\r\n      });\r\n  }\r\n\r\n  handleCurrency = () => {\r\n    return (\r\n      <Text style={{ fontSize: 25, color: \"white\" }}>\r\n        {baseCurrency}\r\n      </Text>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <ImageBackground\r\n          source={require(\"../assets/BackgroundOrange.png\")}\r\n          style={styles.backgroundImage}\r\n        >\r\n          <StatusBar backgroundColor=\"white\" barStyle=\"light-content\" />\r\n          <View style={styles.header}>\r\n            {/*  PAGE TITLE  */}\r\n            <FontAwesome\r\n              style={{ marginLeft: 15 }}\r\n              name=\"home\"\r\n              size={25}\r\n              color=\"white\"\r\n            />\r\n            <FontAwesome\r\n              style={{ marginLeft: 25 }}\r\n              name=\"question-circle\"\r\n              size={25}\r\n              color=\"white\"\r\n            />\r\n            <Text\r\n              style={{\r\n                marginLeft: 24,\r\n                alignItems: \"center\",\r\n                fontSize: 27,\r\n                textAlign: \"center\",\r\n                color: \"white\",\r\n                backgroundColor: \"#a9a9a8\",\r\n                //fontWeight: \"bold\",\r\n                borderColor: \"FF9933\",\r\n                borderRadius: 1,\r\n              }}\r\n            >\r\n              {\" \"}\r\n              Nutritional Tips{\" \"}\r\n            </Text>\r\n            <MaterialCommunityIcons\r\n              style={{ marginLeft: 30 }}\r\n              name=\"circle-expand\"\r\n              size={25}\r\n              color=\"black\"\r\n            />\r\n\r\n            <this.handleCurrency />\r\n          </View>\r\n          <AppIndex />\r\n        </ImageBackground>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\n{\r\n  /*  STYLESHEET  */\r\n}\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#5F7EB2\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  textContainer: {\r\n    padding: 10,\r\n    marginTop: 3,\r\n    backgroundColor: \"#d9f9b1\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  backgroundImage: {\r\n    flex: 1,\r\n    resizeMode: \"cover\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  text: {\r\n    color: \"#4f603c\",\r\n    fontSize: 20,\r\n  },\r\n\r\n  taskCard: {\r\n    flex: 5,\r\n    backgroundColor: \"#FFE5CC\",\r\n    borderColor: \"black\",\r\n    borderWidth: 1,\r\n    margin: 10,\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  taskDiv: {\r\n    flex: 1,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n\r\n  taskTitle: {\r\n    fontSize: 20,\r\n  },\r\n\r\n  rewardPoint: {\r\n    fontSize: 20,\r\n    color: \"darkblue\",\r\n  },\r\n\r\n  taskbody: {\r\n    flex: 1,\r\n    fontSize: 14,\r\n  },\r\n\r\n  taskDone: {\r\n    borderColor: \"#737373\",\r\n    backgroundColor: \"darkgrey\",\r\n  },\r\n\r\n  header: {\r\n    flexDirection: \"row\",\r\n  },\r\n\r\n  tabs: {\r\n    flex: 1,\r\n    backgroundColor: \"#D3E3F6\",\r\n    alignItems: \"flex-start\",\r\n    justifyContent: \"flex-start\",\r\n    textAlign: \"left\",\r\n  },\r\n});\r\n\r\n//         {/*  TABS  */}\r\n//         <View className=\"NutritionPage\">\r\n//           <Tabs\r\n//             tabsProps={{\r\n//               style: {\r\n//                 textAlign: \"left\",\r\n//               },\r\n//             }}\r\n//             activeTab={{\r\n//               id: \"tab1\",\r\n//             }}\r\n//           >\r\n//             <View style={styles.tabs}>\r\n//               <Tabs.Tab id=\"tab1\" title=\"Unread\">\r\n//                 <View>\r\n//                   <DataTable>\r\n//                     <DataTable.Header>\r\n//                       <DataTable.Title>[Tip Name]</DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Type : [Tip Type]\r\n//                       </DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Reward :{\" \"}\r\n//                         <MaterialCommunityIcons\r\n//                           name=\"circle-expand\"\r\n//                           size={10}\r\n//                           color=\"black\"\r\n//                         />\r\n//                         5\r\n//                       </DataTable.Title>\r\n//                     </DataTable.Header>\r\n\r\n//                     <DataTable.Row>\r\n//                       <Text>\r\n//                         [ Task Desceiption : hubvcouehbv hwivoiebuvberu\r\n//                         oibrberoivb reboi1rbiv1bre oboiogiv1uerbgo vi1\r\n//                         rogiv1broigub 1oribgo1i rbgoivu1bro ]\r\n//                       </Text>\r\n//                     </DataTable.Row>\r\n\r\n//                     <DataTable.Header>\r\n//                       <DataTable.Title>[Tip Name]</DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Type : [Tip Type]\r\n//                       </DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Reward :{\" \"}\r\n//                         <MaterialCommunityIcons\r\n//                           name=\"circle-expand\"\r\n//                           size={10}\r\n//                           color=\"black\"\r\n//                         />\r\n//                         6\r\n//                       </DataTable.Title>\r\n//                     </DataTable.Header>\r\n\r\n//                     <DataTable.Row>\r\n//                       <Text>\r\n//                         [ Task Desceiption : hubvcouehbv hwivoiebuvberu oiboivb\r\n//                         reboi1rbiv1bre ov1rbogigo v1rgboirbgovi1 rogiv1broigub\r\n//                         1oribgo1i rbgoivu1br ]\r\n//                       </Text>\r\n//                     </DataTable.Row>\r\n\r\n//                     <DataTable.Header>\r\n//                       <DataTable.Title>[Tip Name]</DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Type : [Tip Type]\r\n//                       </DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Reward :{\" \"}\r\n//                         <MaterialCommunityIcons\r\n//                           name=\"circle-expand\"\r\n//                           size={10}\r\n//                           color=\"black\"\r\n//                         />\r\n//                         6\r\n//                       </DataTable.Title>\r\n//                     </DataTable.Header>\r\n\r\n//                     <DataTable.Row>\r\n//                       <Text>\r\n//                         [ Task Desceiption : hubvcouehbv hwivoiebuvberu oiboivb\r\n//                         reboi1rbiv1bre ov1rbogigo v1rgboirbgovi1 rogiv1broigub\r\n//                         1oribgo1i rbgoivu1br ]\r\n//                       </Text>\r\n//                     </DataTable.Row>\r\n//                   </DataTable>\r\n//                 </View>\r\n//               </Tabs.Tab>\r\n\r\n//               <View></View>\r\n//               <Tabs.Tab style={{ color: \"#FFFFFF\" }} id=\"tab2\" title=\"Read\">\r\n//                 <View>\r\n//                   <DataTable>\r\n//                     <DataTable.Header>\r\n//                       <DataTable.Title>[Tip Name]</DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Type : [Tip Type]\r\n//                       </DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Reward :{\" \"}\r\n//                         <MaterialCommunityIcons\r\n//                           name=\"circle-expand\"\r\n//                           size={10}\r\n//                           color=\"black\"\r\n//                         />\r\n//                         7\r\n//                       </DataTable.Title>\r\n//                     </DataTable.Header>\r\n\r\n//                     <DataTable.Row>\r\n//                       <Text>\r\n//                         Task Desceiption : hduhv hbrovh hbrofu yuy uyuy\r\n//                         idwefcvwdch bwihbwb wiufebf whebf eoiwbc\r\n//                       </Text>\r\n//                     </DataTable.Row>\r\n\r\n//                     <DataTable.Header>\r\n//                       <DataTable.Title>[Tip Name]</DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Type : [Tip Type]\r\n//                       </DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Reward :{\" \"}\r\n//                         <MaterialCommunityIcons\r\n//                           name=\"circle-expand\"\r\n//                           size={10}\r\n//                           color=\"black\"\r\n//                         />\r\n//                         8\r\n//                       </DataTable.Title>\r\n//                     </DataTable.Header>\r\n\r\n//                     <DataTable.Row>\r\n//                       <Text>\r\n//                         Task Desceiption : hduhv hbrovh hbrofu yuy uyuy\r\n//                         idwefcvwdch bwihbwb wiufebf whebf eoiwbc\r\n//                       </Text>\r\n//                     </DataTable.Row>\r\n\r\n//                     <DataTable.Header>\r\n//                       <DataTable.Title>[Tip Name]</DataTable.Title>\r\n//                       <DataTable.Title numeric>\r\n//                         Type : [Tip Type]\r\n//                       </DataTable.Title>\r\n//                       <DataTable.Title style={{ fontWeight: \"bold\" }} numeric>\r\n//                         Reward :{\" \"}\r\n//                         <MaterialCommunityIcons\r\n//                           name=\"circle-expand\"\r\n//                           size={10}\r\n//                           color=\"black\"\r\n//                         />\r\n//                         20\r\n//                       </DataTable.Title>\r\n//                     </DataTable.Header>\r\n\r\n//                     <DataTable.Row>\r\n//                       <Text>\r\n//                         Task Desceiption : hduhv hbrovh hbrofu yuy uyuy\r\n//                         idwefcvwdch bwihbwb wiufebf whebf eoiwbc\r\n//                       </Text>\r\n//                     </DataTable.Row>\r\n//                   </DataTable>\r\n//                 </View>\r\n//               </Tabs.Tab>\r\n//             </View>\r\n//           </Tabs>\r\n//         </View>\r\n//       </View>\r\n"]},"metadata":{},"sourceType":"module"}