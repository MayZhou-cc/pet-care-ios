{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Button from\"react-native-web/dist/exports/Button\";import{getBackgroundImage}from\"../components/images\";import{fb,Fire}from\"../src/firebase/APIKeys\";import Header from\"../components/Header\";var SettingScreen=function(_Component){_inherits(SettingScreen,_Component);var _super=_createSuper(SettingScreen);function SettingScreen(){var _this;_classCallCheck(this,SettingScreen);_this=_super.call(this);_this.signOutPress=function(){fb.auth().signOut();};_this.backgroundColorOnPress=function(){if(_this.state.backgroundColor!=7){_this.updateBackgroundColor(_this.state.backgroundColor+1);_this.setState(function(state){return{backgroundColor:state.backgroundColor+1};});}else{_this.updateBackgroundColor(1);_this.setState({backgroundColor:1});}};_this.suppressNotificationOnPress=function(){if(_this.state.supperssNotification==\"Turn Off\"){_this.setState({supperssNotification:\"Turn On\"});}else{_this.setState({supperssNotification:\"Turn Off\"});}};_this.state={backgroundColor:0,supperssNotification:\"OFF\"};_this.readData();return _this;}_createClass(SettingScreen,[{key:\"readData\",value:function readData(){var _this2=this;fb.database().ref(\"response/\"+this.user._id+\"/backgroundColor\").once(\"value\",function(dataSnapShot){var tempColor=dataSnapShot.val();_this2.setState({backgroundColor:tempColor});});}},{key:\"updateBackgroundColor\",value:function updateBackgroundColor(color){fb.database().ref(\"response/\"+this.user._id).update({backgroundColor:color}).then(function(){console.log(\"Background Color Changed\");}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var background=getBackgroundImage(this.state.backgroundColor);return React.createElement(View,{style:{flex:1}},React.createElement(ImageBackground,{source:background,style:styles.backgroundImage},React.createElement(Header,{route:this.props}),React.createElement(View,{style:styles.btnContainer},React.createElement(View,{style:styles.settingItems},React.createElement(Text,{style:styles.bodyText},\"Change Background Color\"),React.createElement(Button,{style:styles.bodyText,title:\"Change\",onPress:this.backgroundColorOnPress})),React.createElement(View,{style:styles.settingItems},React.createElement(Text,{style:styles.bodyText},\"Notifications\"),React.createElement(Button,{style:styles.bodyText,title:this.state.supperssNotification,onPress:this.suppressNotificationOnPress})),React.createElement(View,{style:styles.settingItems},React.createElement(Text,{style:styles.bodyText},\"Sign Out\"),React.createElement(Button,{style:styles.bodyText,title:\"Sign Out\",onPress:this.signOutPress})))));}},{key:\"user\",get:function get(){return{_id:Fire.shared.uid};}}]);return SettingScreen;}(Component);export{SettingScreen as default};var styles=StyleSheet.create({backgroundImage:{flex:1,resizeMode:\"cover\",justifyContent:\"flex-start\"},btnContainer:{flex:1,marginTop:20},settingItems:{marginTop:15,backgroundColor:\"#ffffff\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",margin:10,borderRadius:5,height:40},bodyText:{fontSize:16},btnText:{fontSize:16}});","map":{"version":3,"sources":["/Users/mayzhou/development/React_Native/SelfMiniProject/pet-care/screens/SettingScreen.js"],"names":["React","Component","getBackgroundImage","fb","Fire","Header","SettingScreen","signOutPress","auth","signOut","backgroundColorOnPress","state","backgroundColor","updateBackgroundColor","setState","suppressNotificationOnPress","supperssNotification","readData","database","ref","user","_id","once","dataSnapShot","tempColor","val","color","update","then","console","log","catch","error","background","flex","styles","backgroundImage","props","btnContainer","settingItems","bodyText","shared","uid","StyleSheet","create","resizeMode","justifyContent","marginTop","flexDirection","alignItems","margin","borderRadius","height","fontSize","btnText"],"mappings":"ggCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,+SAEA,OAASC,kBAAT,4BACA,OAASC,EAAT,CAAaC,IAAb,+BACA,MAAOC,CAAAA,MAAP,4B,GAEqBC,CAAAA,a,iGACnB,wBAAc,+CACZ,wBADY,MAyBdC,YAzBc,CAyBC,UAAM,CACnBJ,EAAE,CAACK,IAAH,GAAUC,OAAV,GACD,CA3Ba,OA6BdC,sBA7Bc,CA6BW,UAAM,CAE7B,GAAI,MAAKC,KAAL,CAAWC,eAAX,EAA8B,CAAlC,CAAqC,CACnC,MAAKC,qBAAL,CAA2B,MAAKF,KAAL,CAAWC,eAAX,CAA6B,CAAxD,EACA,MAAKE,QAAL,CAAc,SAACH,KAAD,CAAW,CACvB,MAAO,CAAEC,eAAe,CAAED,KAAK,CAACC,eAAN,CAAwB,CAA3C,CAAP,CACD,CAFD,EAGD,CALD,IAKO,CACL,MAAKC,qBAAL,CAA2B,CAA3B,EACA,MAAKC,QAAL,CAAc,CAAEF,eAAe,CAAE,CAAnB,CAAd,EACD,CACF,CAxCa,OAwDdG,2BAxDc,CAwDgB,UAAM,CAClC,GAAI,MAAKJ,KAAL,CAAWK,oBAAX,EAAmC,UAAvC,CAAmD,CACjD,MAAKF,QAAL,CAAc,CACZE,oBAAoB,CAAE,SADV,CAAd,EAGD,CAJD,IAIO,CACL,MAAKF,QAAL,CAAc,CACZE,oBAAoB,CAAE,UADV,CAAd,EAGD,CACF,CAlEa,CAEZ,MAAKL,KAAL,CAAa,CACXC,eAAe,CAAE,CADN,CAEXI,oBAAoB,CAAE,KAFX,CAAb,CAIA,MAAKC,QAAL,GANY,aAOb,C,qEAEU,iBACTd,EAAE,CAACe,QAAH,GACGC,GADH,CACO,YAAc,KAAKC,IAAL,CAAUC,GAAxB,CAA8B,kBADrC,EAEGC,IAFH,CAEQ,OAFR,CAEiB,SAACC,YAAD,CAAkB,CAC/B,GAAIC,CAAAA,SAAS,CAAGD,YAAY,CAACE,GAAb,EAAhB,CACA,MAAI,CAACX,QAAL,CAAc,CAAEF,eAAe,CAAEY,SAAnB,CAAd,EACD,CALH,EAMD,C,oEA0BqBE,K,CAAO,CAC3BvB,EAAE,CAACe,QAAH,GACGC,GADH,CACO,YAAc,KAAKC,IAAL,CAAUC,GAD/B,EAEGM,MAFH,CAEU,CACNf,eAAe,CAAEc,KADX,CAFV,EAKGE,IALH,CAKQ,UAAM,CACVC,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACD,CAPH,EAQGC,KARH,CAQS,SAACC,KAAD,CAAW,CAChBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACD,CAVH,EAWD,C,uCAcQ,CACP,GAAMC,CAAAA,UAAU,CAAG/B,kBAAkB,CAAC,KAAKS,KAAL,CAAWC,eAAZ,CAArC,CACA,MACE,qBAAC,IAAD,EAAM,KAAK,CAAE,CAAEsB,IAAI,CAAE,CAAR,CAAb,EACE,oBAAC,eAAD,EAAiB,MAAM,CAAED,UAAzB,CAAqC,KAAK,CAAEE,MAAM,CAACC,eAAnD,EACE,oBAAC,MAAD,EAAQ,KAAK,CAAE,KAAKC,KAApB,EADF,CAEE,oBAAC,IAAD,EAAM,KAAK,CAAEF,MAAM,CAACG,YAApB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAEH,MAAM,CAACI,YAApB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAEJ,MAAM,CAACK,QAApB,4BADF,CAEE,oBAAC,MAAD,EACE,KAAK,CAAEL,MAAM,CAACK,QADhB,CAEE,KAAK,CAAE,QAFT,CAGE,OAAO,CAAE,KAAK9B,sBAHhB,EAFF,CADF,CASE,oBAAC,IAAD,EAAM,KAAK,CAAEyB,MAAM,CAACI,YAApB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAEJ,MAAM,CAACK,QAApB,kBADF,CAEE,oBAAC,MAAD,EACE,KAAK,CAAEL,MAAM,CAACK,QADhB,CAEE,KAAK,CAAE,KAAK7B,KAAL,CAAWK,oBAFpB,CAGE,OAAO,CAAE,KAAKD,2BAHhB,EAFF,CATF,CAkBE,oBAAC,IAAD,EAAM,KAAK,CAAEoB,MAAM,CAACI,YAApB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAEJ,MAAM,CAACK,QAApB,aADF,CAEE,oBAAC,MAAD,EACE,KAAK,CAAEL,MAAM,CAACK,QADhB,CAEE,KAAK,CAAE,UAFT,CAGE,OAAO,CAAE,KAAKjC,YAHhB,EAFF,CAlBF,CAFF,CADF,CADF,CAkCD,C,gCAtFU,CACT,MAAO,CACLc,GAAG,CAAEjB,IAAI,CAACqC,MAAL,CAAYC,GADZ,CAAP,CAGD,C,2BAvBwCzC,S,SAAtBK,a,aA4GrB,GAAM6B,CAAAA,MAAM,CAAGQ,UAAU,CAACC,MAAX,CAAkB,CAC/BR,eAAe,CAAE,CACfF,IAAI,CAAE,CADS,CAEfW,UAAU,CAAE,OAFG,CAGfC,cAAc,CAAE,YAHD,CADc,CAO/BR,YAAY,CAAE,CACZJ,IAAI,CAAE,CADM,CAEZa,SAAS,CAAE,EAFC,CAPiB,CAY/BR,YAAY,CAAE,CACZQ,SAAS,CAAE,EADC,CAEZnC,eAAe,CAAE,SAFL,CAGZoC,aAAa,CAAE,KAHH,CAIZF,cAAc,CAAE,eAJJ,CAKZG,UAAU,CAAE,QALA,CAMZC,MAAM,CAAE,EANI,CAOZC,YAAY,CAAE,CAPF,CAQZC,MAAM,CAAE,EARI,CAZiB,CAuB/BZ,QAAQ,CAAE,CACRa,QAAQ,CAAE,EADF,CAvBqB,CA2B/BC,OAAO,CAAE,CACPD,QAAQ,CAAE,EADH,CA3BsB,CAAlB,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { StyleSheet, ImageBackground, Text, View, Button } from \"react-native\";\r\nimport { getBackgroundImage } from \"../components/images\";\r\nimport { fb, Fire } from \"../src/firebase/APIKeys\";\r\nimport Header from '../components/Header';\r\n\r\nexport default class SettingScreen extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      backgroundColor: 0,\r\n      supperssNotification: \"OFF\",\r\n    };\r\n    this.readData();\r\n  }\r\n\r\n  readData() {\r\n    fb.database()\r\n      .ref(\"response/\" + this.user._id + \"/backgroundColor\")\r\n      .once(\"value\", (dataSnapShot) => {\r\n        var tempColor = dataSnapShot.val();\r\n        this.setState({ backgroundColor: tempColor });\r\n      });\r\n  }\r\n\r\n  get user() {\r\n    return {\r\n      _id: Fire.shared.uid,\r\n    };\r\n  }\r\n\r\n  //Occurs when signout is pressed\r\n  signOutPress = () => {\r\n    fb.auth().signOut();\r\n  };\r\n\r\n  backgroundColorOnPress = () => {\r\n    // Iterate over 1 to 7\r\n    if (this.state.backgroundColor != 7) {\r\n      this.updateBackgroundColor(this.state.backgroundColor + 1);\r\n      this.setState((state) => {\r\n        return { backgroundColor: state.backgroundColor + 1 };\r\n      });\r\n    } else {\r\n      this.updateBackgroundColor(1);\r\n      this.setState({ backgroundColor: 1 });\r\n    }\r\n  };\r\n\r\n  updateBackgroundColor(color) {\r\n    fb.database()\r\n      .ref(\"response/\" + this.user._id)\r\n      .update({\r\n        backgroundColor: color,\r\n      })\r\n      .then(() => {\r\n        console.log(\"Background Color Changed\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  suppressNotificationOnPress = () => {\r\n    if (this.state.supperssNotification == \"Turn Off\") {\r\n      this.setState({\r\n        supperssNotification: \"Turn On\",\r\n      });\r\n    } else {\r\n      this.setState({\r\n        supperssNotification: \"Turn Off\",\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const background = getBackgroundImage(this.state.backgroundColor);\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <ImageBackground source={background} style={styles.backgroundImage}>\r\n          <Header route={this.props} />\r\n          <View style={styles.btnContainer}>\r\n            <View style={styles.settingItems}>\r\n              <Text style={styles.bodyText}>Change Background Color</Text>\r\n              <Button\r\n                style={styles.bodyText}\r\n                title={\"Change\"}\r\n                onPress={this.backgroundColorOnPress}\r\n              />\r\n            </View>\r\n            <View style={styles.settingItems}>\r\n              <Text style={styles.bodyText}>Notifications</Text>\r\n              <Button\r\n                style={styles.bodyText}\r\n                title={this.state.supperssNotification}\r\n                onPress={this.suppressNotificationOnPress}\r\n              />\r\n            </View>\r\n\r\n            <View style={styles.settingItems}>\r\n              <Text style={styles.bodyText}>Sign Out</Text>\r\n              <Button\r\n                style={styles.bodyText}\r\n                title={\"Sign Out\"}\r\n                onPress={this.signOutPress}\r\n              />\r\n            </View>\r\n          </View>\r\n        </ImageBackground>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  backgroundImage: {\r\n    flex: 1,\r\n    resizeMode: \"cover\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n\r\n  btnContainer: {\r\n    flex: 1,\r\n    marginTop: 20,\r\n  },\r\n\r\n  settingItems: {\r\n    marginTop: 15,\r\n    backgroundColor: \"#ffffff\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    margin: 10,\r\n    borderRadius: 5,\r\n    height: 40,\r\n  },\r\n\r\n  bodyText: {\r\n    fontSize: 16,\r\n  },\r\n\r\n  btnText: {\r\n    fontSize: 16,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}